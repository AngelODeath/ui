query FlowRunsCount(
  $projectIds: [uuid!]
  $flowId: uuid
  $heartbeat: timestamptz
  $state: String
) {
  flow_run_aggregate(
    where: {
      flow_id: { _eq: $flowId }
      flow: { project_id: { _in: $projectIds } }
      updated: { _gte: $heartbeat }
      state: { _eq: $state }
    }
  ) {
    aggregate {
      count
    }
  }
}
